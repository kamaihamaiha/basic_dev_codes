## 变量
[代码](../../chapter_2/section_2/main.cpp)

- 变量定义
- 声明和定义关系
- 标识符
- 名字的作用域

对 C++ 程序员来说，变量和对象可以互换使用。

### 变量定义
类型说明符(type specifier) 后面紧跟一个或多个变量名。

```c++
  int a = 1, b= 2, c = 3;
  
  Sales_item item;
  
  // string 是一种库类型，表示一个可变长的字符序列
  std::string book("这是一本小说");
  return 0;
```
#### 初始值

当对象在创建时获取了一个特定的值，我们就说这个对象被**初始化**(initialized)了。

- C++ 中，初始化是一个异常复杂的问题
- 初始化和赋值是两个完全不同的操作
- 初始化：创建变量时赋予其中一个初始值
- 赋值：把对象当前的值擦除，然后用一个新的值来代替

多种初始化形式：
```c++
int a = 0;
int b = { 0 };
int c{ 0 };
int d( 0 );
```
#### 列表初始化
上面用 `{}` 的就是列表初始化(list initialization)。是 C++11 新标准的一部分。

#### 默认初始化
如果定义变量时没有指定初值，则变量被**默认初始化**(default initialized),此时变量会被赋予一个
"默认值"。默认值具体是多少由变量类型决定。

- 如果是内置类型（默认值由位置决定）
    - 定义在任何函数体之外：初始值为 0
    - 定义在函数体内部：**不被初始化**(uninitialized)
        - 如果试图拷贝或者以其他形式访问会引发错误
    
- 绝大多数类支持无须显式初始化而定义对象。
    ```c++
     std::string str_emp;
     Sales_item item;
    ```
  
- 一些类要求每个对象都显式初始化。
    - 如果不对其初始化会引发错误
    
### 声明 & 定义
C++ 支持**分离式编译**(separate compilation)机制：允许程序分割为若干个文件，每个文件可被独立编译。   
为此把 *声明* 和 *定义* 区分开来。
- 声明(declaration)：使得名字为程序所知。
    - 规定了变量的类型和名字
- 定义(definition)：负责创建与名字关联的实体。
    - 除了规定了变量的类型和名字，还申请存储空间，也可能会为变量赋一个初始值
    
```c++
// 声明 a 而非定义 a
extern int a;

// 声明并定义 b
int b;
```
但是，如果是显示初始化的声明就会成定义。如下:
``extern double pi = 3.1415926 // 定义 pi``

在函数体内部，如果试图初始化一个由 extern 关键字标记的变量，将引发错误。   

注意：变量只能被定义一次，但可以被多次声明。

### 标识符

C++ 标识符(identifier) ：
- 由字母、数字和下划线组成
- 必须以字母或下划线开头
- 长度没有限制
- 对大小写敏感
- C++ 关键字不能当作标识符
- C++ 为标准库保留了一些名字，也不能当作标识符。
    - 不能连续出现两个下划线
    - 不能以下划线紧连大些字母开头
    - 定义在函数体之外的标识符不能以下划线开头
    
    
#### 变量命名规范

- 能体现实际含义
- 一般用小写字母
- 用户自定义的类名一般以大些字母开头，如：Book
- 如果由多个单词组成，则单词间应该由明显区分，如：
    ``student_loan`` 或 ``studentLoan``


### 名字的作用域

作用域(scope) 是程序的一部分，在其中名字有其特定的含义。大多数作用域都以 `{}` 分隔。

- 全局作用域(global scope): 名字定义于所有花括号之外。如下, 
    - main 就是全局作用域
    - sum 就是块作用域(block scope): 出了 main 函数，就无法访问了。
```c++
int res = 1;
int main(){
  int sum;
  
  // 局部变量会覆盖全局变量 res
  int res = 2;
  
  // 显式访问全局变量 res
  std::cout << ::res << std::endl;
  return 0;
}
```

